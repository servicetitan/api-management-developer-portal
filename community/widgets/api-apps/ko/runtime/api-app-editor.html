<a href="#" role="button" data-bind="click: clickCancel">
    &lt; Back to all apps
</a>
<h3 style="margin: 12px 0 20px;">New App</h3>
<!-- ko if: isLoading -->
<div>
    <spinner></spinner>
</div>
<!-- /ko -->
<!-- ko ifnot: isLoading -->
<div class="card" style="padding-top: 0; margin: 0;">
    <fieldset class="form">
        <h4 style="margin: 25px 0 20px">App details</h4>
        <div class="row">
            <div class="col-9">
                <div class="form-group">
                    <label for="name">Application Name</label>
                    <input type="text" id="name" class="form-control form-control-default"
                        data-bind="textInput: name" />
                </div>
                <div class="form-group">
                    <label for="organizationName">Organization</label>
                    <input type="text" id="organizationName" class="form-control form-control-default"
                        data-bind="textInput: organizationName" />
                </div>
                <div class="form-group">
                    <label for="homepageUrl">Homepage</label>
                    <input type="text" id="homepageUrl" placeholder="https://www.servicetitan.com"
                        class="form-control form-control-default" data-bind="textInput: homepageUrl" />
                </div>
            </div>
        </div>
        <label style="margin-bottom: 0;">Tenant(s)</label>
        <div class="row">
            <div class="col-12">
                <button type="button" class="button" data-bind="click: clickAddAppAvailability">
                    + Add tenant
                </button>
            </div>
        </div>
        <!-- ko foreach: appAvailabilityList -->
        <div class="row">
            <div class="col-5" style="padding-right: 0;">
                <input type="text" id="ResourceOwner" placeholder="Tenant Id" class="form-control form-control-default" style="margin-bottom: 10px;"
                    data-bind="textInput: resourceOwner" />
            </div>
            <div class="col-5">
                <input type="text" id="Note" placeholder="Note" class="form-control form-control-default" style="margin-bottom: 10px;"
                    data-bind="textInput: note" />
            </div>
            <div class="col-2">
                <span style="font-size: 2em; cursor: pointer;margin-left: -10px;"
                    data-bind="click: $parent.clickDeleteAppAvailability.bind($parent, $data)">
                    &#128465;
                    </a>
            </div>
        </div>
        <!-- /ko -->
        <label style="margin-top: 10px;">API Scopes</label>
        <div style="background-color: #f0f0f0; border-radius: 3px; padding-bottom: 15px; border: 1px solid #dfe0e1;">
            <div style="background-color: #fafafa; border-bottom: 1px solid #dfe0e1;">
                <div class="row" style="padding: 10px">
                    <div class="col-8" style="padding-left: 35px;">API Endpoint</div>
                    <div class="col-2 text-center">Read&nbsp;&nbsp;&nbsp;</div>
                    <div class="col-2 text-center">Write&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
                </div>
            </div>
            <!-- ko foreach: allScopeGroups -->
            <div style="padding: 10px 30px 0px 30px;">
                <div style="margin-left: -3px; margin-bottom: 11px;">
                    <span style="font-size: 0.75em;">&#x25BC;</span> 
                    <span data-bind="text: displayName"></span>
                </div>
                <div style="background-color: white;">
                    <!-- ko foreach: scopes -->
                    <div style="border-bottom: 2px solid #f0f0f0; padding: 7px 0 0 12px;" class="row">
                        <div class="col-8">
                            <label data-bind="text: displayName, attr: { for: name }"></label>
                        </div>
                        <div class="col-2 text-center">
                            <input type="checkbox"
                                data-bind="checked: $parents[1].authScopes, value: name + ':r', attr: { id: name }" />
                        </div>
                        <div class="col-2 text-center">
                            <input type="checkbox"
                                data-bind="checked: $parents[1].authScopes, value: name + ':w', attr: { id: name }" />
                        </div>
                    </div>
                    <!-- /ko -->
                </div>
            </div>
            <!-- /ko -->
        </div>
    </fieldset>
</div>
<div>
    <button type="button" class="button" data-bind="click: clickCancel">Cancel</button>
    <button type="button" class="button button-primary" data-bind="click: clickSave, enabled: canSave">Save</button>
</div>
<!-- /ko -->